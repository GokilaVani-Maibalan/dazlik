<!-- Breadcrumb -->
<div
    class="breadcrumb-card mb-25 d-md-flex align-items-center justify-content-between"
>
    <h5 class="mb-0">Reviews & Ratings</h5>
    <ol class="breadcrumb list-unstyled mt-0 mb-0 pl-0">
        <li class="breadcrumb-item position-relative">
            <a routerLink="/" class="d-inline-block position-relative">
                <i class="ri-home-8-line"></i>
                Dashboard
            </a>
        </li>
        <li class="breadcrumb-item position-relative">E-Commerce</li>
        <li class="breadcrumb-item position-relative">Reviews</li>
        <!-- <li class="breadcrumb-item position-relative">
            Seller Details
        </li> -->
    </ol>
</div>

<!-- Seller Overview -->
<mat-card
    class="daxa-card seller-overview-card mb-25 pb-0 border-radius bg-white border-none d-block"
>
    <mat-card-header>
        <mat-card-title>
            <h5 class="mt-0 mb-0">Ratings</h5>
        </mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <div class="row">
            <div class="col-sm-6 col-xxl-3">
                <mat-card
                    class="daxa-card total-orders-card border-radius border-none d-block"
                    [class.component-dark-theme]="themeService.isDark()"
                >
                    <mat-card-content>
                        <div class="d-flex justify-content-between">
                            <div class="title">
                                <div class="number fw-medium lh-1">4.46</div>
                                <h5>Average Star Rating</h5>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
            <div class="col-sm-6 col-xxl-3">
                <mat-card
                    class="daxa-card total-orders-card border-radius border-none d-block"
                    [class.component-dark-theme]="themeService.isDark()"
                >
                    <mat-card-content>
                        <div class="d-flex justify-content-between">
                            <div class="title">
                                <div class="number fw-medium lh-1">2118</div>
                                <h5>Total Ratings</h5>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
            <div class="col-sm-6 col-xxl-3">
                <mat-card
                    class="daxa-card total-orders-card border-radius border-none d-block"
                    [class.component-dark-theme]="themeService.isDark()"
                >
                    <mat-card-content>
                        <div class="d-flex justify-content-between">
                            <div class="title">
                                <div class="number fw-medium lh-1">1876</div>
                                <h5>Positive Ratings</h5>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
            <div class="col-sm-6 col-xxl-3">
                <mat-card
                    class="daxa-card total-orders-card border-radius border-none d-block"
                    [class.component-dark-theme]="themeService.isDark()"
                >
                    <mat-card-content>
                        <div class="d-flex">
                            <div class="title">
                                <div class="number fw-medium lh-1">242</div>
                                <h5>Negative Ratings</h5>
                            </div>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </mat-card-content>
</mat-card>

<!-- Profile, Revenue, & Products -->
<div class="row">
    <div class="col-lg-12">
        <mat-card
            class="daxa-card seller-card mb-25 border-radius bg-white border-none d-block"
            [class.component-dark-theme]="themeService.isDark()"
            [class.rtl-enabled]="themeService.isRTLEnabled()"
        >
            <mat-card-header>
                <mat-card-subtitle>
                    <button
                        type="button"
                        mat-button
                        class="card-header-menu-btn p-0"
                        [matMenuTriggerFor]="cardHeaderMenu"
                    >
                        <i class="material-symbols-outlined"> more_horiz </i>
                    </button>
                    <mat-menu
                        #cardHeaderMenu="matMenu"
                        class="card-header-menu"
                        xPosition="before"
                    >
                        <button mat-menu-item>View</button>
                        <button mat-menu-item>Edit</button>
                        <button mat-menu-item>Delete</button>
                    </mat-menu>
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <div *ngFor="let data of feedback">
                    <div>
                        <div class="d-flex align-items-center">
                            <div
                                class="icon position-relative text-center rounded-circle"
                            >
                                <img
                                    src="assets/images/sellers/seller1.png"
                                    alt="seller-image"
                                />
                            </div>
                            <div style="display: flex; flex-direction: column">
                                <h5 class="mb-0 mt-0">
                                    {{ data.customer_name }}
                                </h5>
                                <div class="star-rating">
                                    <span
                                        *ngFor="
                                            let star of stars;
                                            let i = index
                                        "
                                        class="star"
                                        [class.filled]="i < data.rating"
                                    >
                                        â˜…
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h5 *ngIf="!data.reply">Reply</h5>
                    <div *ngIf="!data.reply">
                        <form
                            [formGroup]="replyForm"
                            (ngSubmit)="submitReply(data.id)"
                        >
                            <mat-form-field>
                                <mat-label>Leave a comment</mat-label>
                                <textarea
                                    matInput
                                    formControlName="reply"
                                    placeholder="Ex. It makes me feel..."
                                ></textarea>
                            </mat-form-field>
                            <button
                                mat-button
                                style="margin-bottom: 10px"
                                type="submit"
                                [disabled]="replyForm.invalid"
                            >
                                Send Reply
                            </button>
                        </form>
                    </div>
                    <div *ngIf="data.reply">
                        <p style="color: black">{{ data.reply }}</p>
                    </div>
                    <hr />
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>
